<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
</head>
<body>
<div id="app">
	<el-form id="ff" label-width="80px">
		<el-form-item label="编码">
			<el-input  name="code" :value="code"></el-input>
		</el-form-item>
		<el-form-item label="名称">
			<el-input  name="name"  :value="name"></el-input>
		</el-form-item>
		<el-form-item label="类型">
			<el-input  name="type"  :value="type"></el-input>
		</el-form-item>
		<el-form-item>
			<el-button type="primary" @click="submitForm">提交</el-button>
		</el-form-item>
	</el-form>
</div>
</body>
<script type="text/javascript" src="../../js/include.js"></script>
<script>
    new Vue({
        el: '#app',
        data:{
        	id:'',
        	code:'',
        	name:'',
        	type:'',
        },
        methods: {
            submitForm() {
                var self = this;
               var obj=$("#ff").serializeObject()
               obj.id=this.id;
                $.ajax({
					     url:url+'/system/dict/update',
					     type:'post',
					     data:obj,
					     success:function(data){

						        if(data.result=="success"){
						        	self.toList();
						       }
					     }
					});
            },toList(){
            	window.location=htmlURL+"/system/dict/list.html";
        	},init(){
        		var self = this;
				$.ajax({
						 url:url+'/system/dict/selectByPrimaryKey',
						 type:'post',
						 data:'id='+getQueryString("id"),
						 success:function(data){
						 	self.id=data.data.id
							self.code=data.data.code
							self.name=data.data.name
							self.type=data.data.type

						 }
				});
        	}
        },
        mounted () {
            this.init();
        }
    })
</script>
</html>